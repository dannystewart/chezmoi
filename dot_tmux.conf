########################
# TMUX QUICK REFERENCE #
########################

# Sessions

# List sessions:      tmux ls
# Attach previous:    tmux a
# Attach specific:    tmux a -t 1

# Key bindings

# Prefix key:         Ctrl-A
# New window:         Ctrl-A c
# Rename window:      Ctrl-A ,
# Renumber windows:   Ctrl-A :move-window -r
#                     Ctrl-A :movew -r

#########################
# CONFIGURATION OPTIONS #
#########################

# Enable mouse (on = bad text selection, off = no scrolling)
set -g mouse on

# m to toggle mouse mode
unbind m
bind-key m set-option -gF mouse "#{?mouse,off,on}" \; display-message "#{?mouse,Mouse: ON,Mouse: OFF}"

# Set default terminal
set -g default-terminal "xterm-256color"

# Higher history limit
set -g history-limit 100000

# Start windows and panes at 1 instead of 0
set -g base-index 1
set-window-option -g pane-base-index 1

# Automatically renumber windows
set-option -g renumber-windows on

# Turn off automatic window renaming
# set-window-option -g automatic-rename off

################
# KEY BINDINGS #
################

# Set C-a as prefix
unbind C-b
set -g prefix C-a

# C-r to reload tmux config
unbind C-r
bind C-r source-file ~/.tmux.conf \; display "  reloaded tmux.conf"

# r to rename window
unbind r
bind-key r command-prompt "rename-window '%%'" # custom renamer (start blank)
# bind-key r command-prompt -I "#W" "rename-window '%%'" # native renamer (use existing name)

# C-s to rename session
unbind C-s
bind C-s command-prompt "rename-session '%%'"

# Replace keys to split panes
unbind v   # Not used by default
unbind h   # Not used by default
unbind %   # DEFAULT KEY: Split vertically
unbind '"' # DEFAULT KEY: Split horizontally
bind v split-window -h -c "#{pane_current_path}"
bind h split-window -v -c "#{pane_current_path}"
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Prompted join-pane
bind-key j command-prompt -p "join pane from: "  "join-pane -h -s '%%'"
bind C-j break-pane

# Distribute panes evenly
unbind C-h
unbind C-v
bind C-h select-layout even-vertical
bind C-v select-layout even-horizontal

# Alt-K for next window, Alt-J for previous window
bind -n M-j previous-window
bind -n M-k next-window

# C-\ to synchronize panes
unbind C-\\
bind C-\\ setw synchronize-panes\; display "  synchronize panes now set to #{pane_synchronized}"

##############
### DESIGN ###
##############

# activity and notifications
set -g bell-action none
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
setw -g monitor-activity off

# message style
set-option -g message-style fg=yellow,bg=black

# modes
setw -g clock-mode-colour colour5
setw -g mode-style 'fg=colour1 bg=colour18 bold'

# status bar
set -g status-position bottom
set -g status-justify left
set -g status-style 'bg=colour0 fg=colour7'
set -g status-interval 2

# left side info (hostname and session)
set -g status-left-length 20
set -g status-left '#[fg=colour66]  #h :#S  #[fg=colour7]'

# right side info (date/time, or mem-cpu-load)
set -g status-right-length 60
set -g status-right '#[fg=colour66]#(tmux-mem-cpu-load --interval 2 -g 8 -a 1) ' # mem-cpu-load
# set -g status-right '#[fg=colour27]%a %b%e %l:%M %p  ' # date/time

# panes
set -g pane-border-style 'fg=colour0 bg=colour0'
set -g pane-active-border-style 'bg=colour0 fg=colour249'

# current window
setw -g window-status-current-style 'fg=colour80 bg=colour23'
setw -g window-status-current-format ' #I#[fg=colour73]:#[fg=colour255]#W '

# other windows
setw -g window-status-style 'fg=colour66 bg=colour0'
setw -g window-status-format ' #I#[fg=colour66]:#[fg=colour250]#W '
setw -g window-status-bell-style 'fg=colour255 bg=colour1 bold'

################################################################

####################
###### COLORS ######
####################
# (Solarized Dark) #
####################

# # statusbar colors
# set-option -g status-style fg=yellow,bg=black
#
# # message text
# set-option -g message-style fg=white,bg=red
#
# # pane border
# set-option -g pane-border-style fg=black
# set-option -g pane-active-border-style fg=yellow

# set-window-option -g window-status-current-style fg=red,bg=default
# set-window-option -g window-status-style dim

# set -g status-right

# # default window title colors
# set-window-option -g window-status-style fg=brightblue,bg=default
# #set-window-option -g window-status-style dim
#
# # active window title colors
# set-window-option -g window-status-current-style fg=brightred,bg=default
# #set-window-option -g window-status-current-style bright
#

#
# # pane number display
# set-option -g display-panes-active-colour blue #blue
# set-option -g display-panes-colour brightred #orange
#
# # clock
# set-window-option -g clock-mode-colour green #green
#
# # bell
# set-window-option -g window-status-bell-style fg=black,bg=red #base02, red

#############
# Tmux Vars #
#############

# $(echo $USER) - shows the current username
# echo ${$(hostname)%%.*} - shows hostname, truncate domain
# %a --> Day of week (Mon)
# %A --> Day of week Expanded (Monday)

# %b --> Month (Jan)
# %d --> Day (31)
# %Y --> Year (2017)

# %D --> Month/Day/Year (12/31/2017)
# %v --> Day-Month-Year (31-Dec-2017)

# %r --> Hour:Min:Sec AM/PM (12:30:27 PM)
# %T --> 24 Hour:Min:Sec (16:30:27)
# %X --> Hour:Min:Sec (12:30:27)
# %R --> 24 Hour:Min (16:30)
# %H --> 24 Hour (16)
# %l --> Hour (12)
# %M --> Mins (30)
# %S --> Seconds (09)
# %p --> AM/PM (AM)

# For a more complete list view: https://linux.die.net/man/3/strftime

#colour0 (black)
#colour1 (red)
#colour2 (green)
#colour3 (yellow)
#colour4 (blue)
#colour7 (white)
#colour5 colour6 colour7 colour8 colour9 colour10 colour11 colour12 colour13 colour14 colour15 colour16 colour17

#D ()
#F ()
#H (hostname)
#I (window index)
#P ()
#S (session index)
#T (pane title)
#W (currnet task like vim if editing a file in vim or zsh if running zsh)
